<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Maharashtra: eBird Data</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  font-family: Arial, sans-serif;
  overflow: hidden;
}

#topbar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 55px;
  background: #222;
  color: white;
  display: flex;
  align-items: center;
  padding: 0 12px;
  gap: 10px;
  z-index: 1000;
}

/* Buttons */
#topbar button, #topbar select {
  padding: 6px 8px;
  font-size: 14px;
  cursor: pointer;
}

#monthlyBtn, #seasonalBtn {
  background: #555;
  color: white;
  border: none;
  border-radius: 4px;
}

#originalBtn {
  background: darkgreen;
  color: white;
  border: none;
  border-radius: 4px;
}

.hidden {
  display: none;
}

/* Mode Indicator */
#modeIndicator {
  margin-left: auto;
  padding: 6px 20px;
  font-weight: bold;
  letter-spacing: 1px;
  text-transform: uppercase;
  background: linear-gradient(to left, #1e7d1e 60%, #555 100%);
  border-radius: 20px 0 0 20px;
}

/* Layout */
.view {
  position: fixed;
  top: 55px;
  left: 0;
  right: 0;
  bottom: 0;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.4s ease;
}

.view.active {
  opacity: 1;
  visibility: visible;
}

#mapContainer {
  position: absolute;
  top: 0;
  left: 0;
  right: 320px;
  bottom: 0;
}

#mapFrame, #summaryFrame {
  width: 100%;
  height: 100%;
  border: none;
}

#summaryPanel {
  position: fixed;
  top: 55px;
  right: 0;
  width: 320px;
  bottom: 0;
  border-left: 1px solid #ccc;
  background: #f9f9f9;
  overflow-y: auto;
}

#aboutView {
  padding: 40px;
  overflow-y: auto;
}

a {
  color: darkgreen;
}
</style>
</head>

<body>

<div id="topbar">

  <button onclick="showView('map')">Map</button>
  <button onclick="showView('about')">About</button>

  <button id="originalBtn" onclick="setMode('old')">
    Original (seasonal)
  </button>

  <button id="seasonalBtn" onclick="setMode('newseason')">
    Seasonal (automated)
  </button>

  <button id="monthlyBtn" onclick="setMode('monthly')">
    Monthly (automated)
  </button>

  <!-- Monthly Controls -->
  <select id="MonthSelection" class="hidden">
    <option>January</option><option>February</option>
    <option>March</option><option>April</option>
    <option>May</option><option>June</option>
    <option>July</option><option>August</option>
    <option>September</option><option>October</option>
    <option>November</option><option>December</option>
  </select>

  <select id="MonthlyYearSelection" class="hidden">
    <option>2025</option>
    <option>2026</option>
  </select>

  <!-- Seasonal Controls -->
  <select id="SeasonSelection">
    <option>Summer</option>
    <option>Monsoon</option>
    <option>Winter</option>
  </select>

  <select id="SeasonYearSelection">
    <option>2025</option>
    <option>2026</option>
  </select>

  <div id="modeIndicator">ORIGINAL (SEASONAL)</div>

</div>

<div id="mapView" class="view active">
  <div id="mapContainer">
    <iframe id="mapFrame"></iframe>
  </div>
  <div id="summaryPanel">
    <iframe id="summaryFrame"></iframe>
  </div>
</div>

<div id="aboutView" class="view">
  <h2>About this dashboard</h2>
  <p>
    This is a dashboard of eBird data for Maharashtra. The original version
    (divided into seasons) was analysed first. Then the automated (monthly & seasonal)
    workflow was devised based on that. Data for all of 2025 & January 2026 were generated 
    initially, and after this, the dashboard will be updated every month. 
  </p>
  <p>
    I will be using the knowledge gained through this project to create a
    dashboard to present the results of an SDM, and also utilizing it in 
    some other projects with spatial dashboards. This about page will be
    updated accordingly, to link to those projects.
  </p>
  <p>
    I may improve this dashboard, but it was mostly a prototype so I could
    figure out a template for displaying a map and some extra data on the side,
    and also so I could learn CI/CD stuff, and get a grasp of Leaflet and JavaScript+CSS in general,
    etc etc. JavaScript & CSS can be very versatile and that's why I elected to use it. One of my inspirations
    for this was, strangely enough, a browser game called corru.observer. The creator didn't use WebGL for graphics, 
    just CSS, and it runs quite nicely on the browser, utilizing the format of a web page in an interesting way to
    convey information. Why would a game be inspiration for data analytics? Because both things involve storytelling,
    and storytelling involves conveying information, and I got some ideas from the way corru.observer conveys information
    and the fact that it's doing <i>so much</i> while still running pretty smoothly (which is important; I want the dashboards
    to be accessible regardless of the quality of your device or network WHILE ALSO making them interesting/dynamic/interactive!).
    Also, games are a medium BUILT on interactivity, and I would like to make cool interactive dashboards, which allow you to 
    REALLY get an intuitive grasp of the data. This dashboard isn't even halfway to what I'm imagining, partly due to its simplicity (which
    IS a strength but again, not what I'm imagining), but I'll figure it out as I go along! 
  </p>
  <p>
    AI disclosure: I did the entirety of the original analysis by myself, and used ChatGPT for
    some parts of the automation process (along with cleaning up my newbie
    attempts at webdev).
  </p>
  <p>
    Also: You'll notice that the Monthly (automated) and Seasonal (automated) views
    have more sparse analysis, and that's because their main purpose was
    to delve into CI/CD with GitHub Actions & YAML workflows,
    so I was focused on learning THAT and encountered some difficulty in
    automating some parts of my original process. For example, Habitat specializations, 
    Migratory patterns, and Common behaviours were taken from stateofindiasbirds.in/. I could've
    done some stuff with the Python scripts to repeat the process of adding that data to the monthly
    data, but frankly I got tired and wanted to just move onto the new skill stuff. 
  </p>
  <p>
    <a href="https://github.com/ebird-mh-project/explore-ebird-mh/tree/main" target="_blank">
      Find the repo here
    </a><br><br>

    <a href="https://github.com/Chandra-Madhubani" target="_blank">
      Find my GitHub profile here
    </a><br><br>

    <a href="https://www.linkedin.com/in/chandra-thakur-5b0a9534a/" target="_blank">
      Find my LinkedIn here
    </a><br><br>
    Personal website will be created & added here later (will include links to all my data projects)
  </p>

</div>

<script>

let mode = "old";

/* ---------- Update Frames ---------- */
function updateFrames() {

  if (mode === "monthly") {
    mapFrame.src = `months/${MonthSelection.value}_${MonthlyYearSelection.value}.html`;
    summaryFrame.src = `month summary/${MonthSelection.value}_${MonthlyYearSelection.value}.html`;
  }

  else if (mode === "newseason") {
    mapFrame.src = `new seasons/${SeasonSelection.value} ${SeasonYearSelection.value}.html`;
    summaryFrame.src = `new season summary/${SeasonSelection.value} ${SeasonYearSelection.value}.html`;
  }

  else if (mode === "old") {
    mapFrame.src = `seasons/${SeasonSelection.value} ${SeasonYearSelection.value}.html`;
    summaryFrame.src = `season summary/${SeasonSelection.value} ${SeasonYearSelection.value}.html`;
  }
}

/* ---------- Mode Switch ---------- */
function setMode(newMode) {

  mode = newMode;

  if (mode === "monthly") {
    MonthSelection.classList.remove("hidden");
    MonthlyYearSelection.classList.remove("hidden");
    SeasonSelection.classList.add("hidden");
    SeasonYearSelection.classList.add("hidden");
    modeIndicator.textContent = "MONTHLY (AUTOMATED)";
  }

  else if (mode === "newseason") {
    MonthSelection.classList.add("hidden");
    MonthlyYearSelection.classList.add("hidden");
    SeasonSelection.classList.remove("hidden");
    SeasonYearSelection.classList.remove("hidden");
    modeIndicator.textContent = "SEASONAL (AUTOMATED)";
  }

  else {
    MonthSelection.classList.add("hidden");
    MonthlyYearSelection.classList.add("hidden");
    SeasonSelection.classList.remove("hidden");
    SeasonYearSelection.classList.remove("hidden");
    modeIndicator.textContent = "ORIGINAL (SEASONAL)";
  }

  updateFrames();
}

/* ---------- View Switch ---------- */
function showView(view) {
  mapView.classList.toggle("active", view === "map");
  aboutView.classList.toggle("active", view === "about");
}

/* ---------- Initialize ---------- */
window.onload = function() {
  SeasonSelection.value = "Summer";
  SeasonYearSelection.value = "2025";
  setMode("old");
};

/* ---------- Listeners ---------- */
MonthSelection.addEventListener("change", updateFrames);
MonthlyYearSelection.addEventListener("change", updateFrames);
SeasonSelection.addEventListener("change", updateFrames);
SeasonYearSelection.addEventListener("change", updateFrames);

</script>
</body>
</html>


